(()=>{"use strict";const e=[];function t(e){document.querySelectorAll(".task-container").forEach((e=>e.remove())),e.forEach((e=>n(e)))}function n(e){let t=document.querySelector(".tasks-container"),n=document.createElement("div");n.classList.add("task-container");let o=document.createElement("p");n.appendChild(o),o.classList.add("task-name"),o.innerHTML=e.title;let i=document.createElement("div"),d=document.createElement("p");d.innerHTML=e.dueDate,d.classList.add("task-date"),n.appendChild(d),e.storeDomElement(n),i.classList.add("task-logos");let l=function(){let e=[];for(let t=1;t<=3;t++){let t=document.createElement("span"),n=document.createElement("img");t.appendChild(n),e.push(t)}return e[0].firstElementChild.src="/img/edit.png",e[0].classList.add("edit"),e[2].firstElementChild.src="/img/trash.png",e[2].classList.add("trash"),e[1].firstElementChild.src="/img/info.svg  ",e[1].classList.add("info"),e}();e.storeIcons(l),l.forEach((e=>i.appendChild(e))),n.appendChild(i),t.appendChild(n)}let o="";function i(i,l,s){let a=new FormData(i),r=Object.fromEntries(a),c=r.title,p=r.description,u=r.dueDate,h=r.priority;if("editTask"===l){let e=s.parentFolder;console.log(e.toDofolder),s.editToDo(c,p,u,h),t(e.toDofolder)}else"addTask"===l?function(t,o,i,d,l){let s=new m(t,o,i,d);var a;a=s,e.push(a),console.log(e),""!==l?(l.addToFolder(s),l.switchMainDisplayFolder()):n(s)}(c,p,u,h,s):function(e){let t=new d(e);o=t,t.newFolderDom(),t.switchMainDisplayFolder()}(c)}class d{toDofolder=[];constructor(e){this.folder=e}setHeader(){document.querySelector(".main-title").textContent=this.folder}newFolderDom(e){this.setHeader(),this.switchMainDisplayFolder(this.toDofolder);const t=document.querySelector(".folders-container");let n=document.createElement("a");n.classList.add("menu-link-item"),n.textContent=this.folder,t.appendChild(n);const o=this;n.addEventListener("click",(function(){o.switchMainDisplayFolder()}))}addToFolder(e){this.toDofolder.push(e),console.log(this.toDofolder),e.addParentFolder(this)}deleteFromFolder(e){let t=this.toDofolder.indexOf(e);this.toDofolder.splice(t,1)}switchMainDisplayFolder(){o=this,console.log(this.toDofolder),t(this.toDofolder),this.setHeader()}switch(){console.log(this.toDofolder)}updateDisplay(){}}const l=document.getElementById("Epopup"),s=document.getElementsByClassName("popup-main");function a(e,t){let n=event.target.id;const o=document.getElementById("popup-header");if(l.style.display="flex","info"===e)return o.textContent="Info",function(e){document.getElementById("form").style.display="none";let t=document.createElement("div");t.classList.add("info-container"),s[0].appendChild(t),t.appendChild(p("Title",e.title)),t.appendChild(p("Description",e.description)),t.appendChild(p("Due Date",e.dueDate)),t.appendChild(p("Priority",e.priority)),t.appendChild(p("Folder",e.parentFolder.folder))}(t),void c("info");"edit"===e&&(o.textContent="Edit",r(["Title","Description","Due Date","Priority"],0,t),c("editTask",t)),"createFolder"==n&&(o.textContent="Create Folder",r(["Title"]),s[0].classList.add("createFolder"),c("createFolder")),"add-task"==n&&(o.textContent="Add task",r(["Title","Description","Due Date","Priority"]),c("addTask"))}function r(e,t,n){const o=document.getElementById("form");let i=n;function d(e,t,n){const i=document.createElement("div");i.classList.add("input-wrapper"),o.appendChild(i);const d=document.createElement("label");d.textContent=e,d.htmlFor=n,i.appendChild(d),i.appendChild(t)}console.log(i),e.map((e=>{if("Title"===e){const t=document.createElement("input");void 0!==i&&(t.value=n.title);const o="title";t.name=o,d(e,t,o)}if("Description"===e){const l=document.createElement("textarea");void 0!==i&&(l.value=n.description),l.name="description",d(e,l)}if("Due Date"===e){const s=document.createElement("input");void 0!==i&&(s.value=n.dueDate),s.name="dueDate",s.type="date",d(e,s)}if("Priority"===e){const a=document.createElement("select");function r(e){let t=document.createElement("option");t.textContent=e,a.appendChild(t)}a.name="priority",r("Low"),r("High"),void 0!==i&&(a.value=n.priority),d(e,a)}}))}function c(e,t){console.log(t);let n=document.createElement("button");n.textContent="Submit",n.classList.add("submit-button"),n.type="submit",n.addEventListener("click",(function(d){d.preventDefault(),"addTask"===e?i(n.form,"addTask",o):"editTask"===e?i(n.form,"editTask",t):(i(n.form,"createFolder"),s[0].classList.remove("createFolder")),r.innerHTML=" ",l.style.display="none"}));let d=document.createElement("button");d.addEventListener("click",(function(e){e.preventDefault();let t=document.querySelector(".info-container");console.log(t);let n=document.getElementById("form");if(void 0!==t&&"none"===n.style.display){const e=document.querySelector(".info-container"),t=document.getElementById("form");console.log(t),e.innerHTML=" ",e.remove(),t.style.display=""}n.innerHTML=" ",l.style.display="none"})),d.textContent="Cancel";let a=document.createElement("div");if(a.appendChild(n),a.appendChild(d),a.classList.add("buttons-container"),"info"===e)return document.querySelector(".info-container").appendChild(a),void n.remove();const r=document.getElementById("form");r.appendChild(a)}function p(e,t){let n=document.createElement("div");n.classList.add("info-item");let o=document.createElement("p"),i=document.createElement("p");if(o.textContent=e,i.textContent=t,"Description"===e){i.classList.add("desc");let e=document.createElement("div");return e.classList.add("desc-container"),e.appendChild(i),n.appendChild(o),n.appendChild(e),n}return n.appendChild(o),n.appendChild(i),n}class m{constructor(e,t,n,o){this.title=e,this.description=t,this.dueDate=n,this.priority=o}storeIcons(e){const t=this;Array.from(e).forEach((e=>e.addEventListener("click",(function(e){let n=event.currentTarget;n.classList.contains("trash")?(t.delete(),t.delete2()):n.classList.contains("edit")?a("edit",t):a("info",t)}))))}storeDomElement(e){console.log(e),this.taskContainer=e}delete(){console.log(this.folder),this.taskContainer.remove(),console.log(this.folder)}delete2(){console.log(this.parentFolder),this.parentFolder.deleteFromFolder(this)}addParentFolder(e){this.parentFolder=e,console.log(this.parentFolder)}editToDo(e,t,n,o){this.title=e,this.description=t,this.dueDate=n,this.priority=o}}document.getElementById("add-task").addEventListener("click",a),document.getElementById("createFolder").addEventListener("click",a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFDLElBQUlZLEtBQUt4RCxRQUNqQndELEtBQUsvQyxjQUFjSixTQUNuQnNDLFFBQVFDLElBQUlZLEtBQUt4RCxPQUVyQixDQUVBeUgsVUFDSTlFLFFBQVFDLElBQUlZLEtBQUtkLGNBQ2pCYyxLQUFLZCxhQUFhc0IsaUJBQWlCUixLQUN2QyxDQUVBTyxnQkFBZ0IzRCxHQUNab0QsS0FBS2QsYUFBZXRDLEVBQ3BCdUMsUUFBUUMsSUFBSVksS0FBS2QsYUFDckIsQ0FFQUksU0FBUzlCLEVBQU93QixFQUFhckIsRUFBU3NCLEdBQ2xDZSxLQUFLeEMsTUFBUUEsRUFDYndDLEtBQUtoQixZQUFjQSxFQUNuQmdCLEtBQUtyQyxRQUFVQSxFQUNmcUMsS0FBS2YsU0FBV0EsQ0FDcEIsRUNsRGtCeEMsU0FBU3VFLGVBQWUsWUFDaENWLGlCQUFpQixRQUFTYSxHQUViMUUsU0FBU3VFLGVBQWUsZ0JBQ2hDVixpQkFBaUIsUUFBU2EsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvcC10b2RvbGlzdC8uL3NyYy9mb2xkZXJzLmpzIiwid2VicGFjazovL3RvcC10b2RvbGlzdC8uL3NyYy9kaXNwbGF5Rm9sZGVycy5qcyIsIndlYnBhY2s6Ly90b3AtdG9kb2xpc3QvLi9zcmMvZ2V0Rm9ybURhdGEuanMiLCJ3ZWJwYWNrOi8vdG9wLXRvZG9saXN0Ly4vc3JjL2NyZWF0ZU5ld0ZvbGRlci5qcyIsIndlYnBhY2s6Ly90b3AtdG9kb2xpc3QvLi9zcmMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vdG9wLXRvZG9saXN0Ly4vc3JjL2FkZFRvRG8uanMiLCJ3ZWJwYWNrOi8vdG9wLXRvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRpc3BsYXlGb2xkZXJzIH0gZnJvbSBcIi4vZGlzcGxheUZvbGRlcnNcIjtcbmV4cG9ydCBjb25zdCBtYWluRm9sZGVyID0gWyBdXG5jb25zdCBleHRyYUZvbGRlcnMgPSB7XG5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvTWFpbkZvbGRlcihvaykge1xuICAgIFxuXG4gICAgZnVuY3Rpb24gYWRkKG9rKSB7XG4gICAgICAgICAgICBtYWluRm9sZGVyLnB1c2gob2spO1xuICAgICAgICAgICAgY2hlY2tNYWluRm9sZGVyKCk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBjaGVja01haW5Gb2xkZXIoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKG1haW5Gb2xkZXIpO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIHsgYWRkLCBtYWluRm9sZGVyLCBhZGRGb2xkZXJ9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRGb2xkZXIoZm9sZGVyKSB7XG4gICAgZXh0cmFGb2xkZXJzLmZvbGRlciA9IGZvbGRlclxuICAgIGNvbnNvbGUubG9nKGV4dHJhRm9sZGVycylcbn0iLCJcbmltcG9ydCB7IG1haW5Gb2xkZXIgfSBmcm9tIFwiLi9mb2xkZXJzXCI7XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BsYXlGb2xkZXJzKG9rKSB7XG5cbiAgICAgICAgY3JlYXRlTmVlZGVkRWxlbWVudHMob2spXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNwbGF5U3dpdGNoRm9sZGVycyhmb2xkZXIpIHtcbiAgICBsZXQgY3VycmVudFRhc2tDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YXNrLWNvbnRhaW5lclwiKVxuICAgIGN1cnJlbnRUYXNrQ29udGFpbmVycy5mb3JFYWNoKGUgPT4gZS5yZW1vdmUoKSk7XG4gICAgZm9sZGVyLmZvckVhY2goZSA9PiBjcmVhdGVOZWVkZWRFbGVtZW50cyhlKSk7XG5cblxufVxuXG4vKiBmdW5jdGlvbiBjcmVhdGVET01UYXNrKCkge1xuICAgIGNyZWF0ZU5lZWRlZEVsZW1lbnRzKClcbn0gKi9cblxuZnVuY3Rpb24gY3JlYXRlTmVlZGVkRWxlbWVudHMoZSkge1xuICAgIGxldCB0YXNrc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3MtY29udGFpbmVyXCIpXG4gICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidGFzay1jb250YWluZXJcIilcbiAgICBsZXQgdGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza05hbWUpO1xuICAgIHRhc2tOYW1lLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLW5hbWVcIilcbiAgICB0YXNrTmFtZS5pbm5lckhUTUwgPSBlLnRpdGxlO1xuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgbGV0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuICAgIGRhdGUuaW5uZXJIVE1MID0gZS5kdWVEYXRlXG4gICAgZGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFzay1kYXRlXCIpO1xuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGF0ZSk7XG5cbiAgICBlLnN0b3JlRG9tRWxlbWVudCh0YXNrQ29udGFpbmVyKTtcblxuICAgIGRpdi5jbGFzc0xpc3QuYWRkKFwidGFzay1sb2dvc1wiKVxuXG4gICAgbGV0IHNwYW4gPSBjcmVhdGVJY29ucygpO1xuICAgIGUuc3RvcmVJY29ucyhzcGFuKTtcbiAgICBzcGFuLmZvckVhY2goZSA9PiBkaXYuYXBwZW5kQ2hpbGQoZSkpO1xuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTsgXG4gICAgdGFza3NDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza0NvbnRhaW5lcik7XG5cblxuICAgIFxuXG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlSWNvbnMoKSB7XG4gICAgbGV0IGFycmF5T2ZTcGFucyA9IFsgXVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDM7IGkgKyspIHtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgYXJyYXlPZlNwYW5zLnB1c2goc3Bhbik7XG4gICAgfVxuXG5cblxuICAgIGFycmF5T2ZTcGFuc1swXS5maXJzdEVsZW1lbnRDaGlsZC5zcmMgPSBcIi9pbWcvZWRpdC5wbmdcIlxuICAgIGFycmF5T2ZTcGFuc1swXS5jbGFzc0xpc3QuYWRkKFwiZWRpdFwiKVxuICAgIGFycmF5T2ZTcGFuc1syXS5maXJzdEVsZW1lbnRDaGlsZC5zcmMgPSBcIi9pbWcvdHJhc2gucG5nXCJcbiAgICBhcnJheU9mU3BhbnNbMl0uY2xhc3NMaXN0LmFkZChcInRyYXNoXCIpXG4gICAgYXJyYXlPZlNwYW5zWzFdLmZpcnN0RWxlbWVudENoaWxkLnNyYyA9IFwiL2ltZy9pbmZvLnN2ZyAgXCJcbiAgICBhcnJheU9mU3BhbnNbMV0uY2xhc3NMaXN0LmFkZChcImluZm9cIilcbiAgICByZXR1cm4gYXJyYXlPZlNwYW5zXG59IiwiaW1wb3J0IHsgbmV3VG9EbyB9IGZyb20gXCIuL2FkZFRvRG9cIjtcbmltcG9ydCB7IGFkZFRvTWFpbkZvbGRlciwgYWRkRm9sZGVyLCB9IGZyb20gXCIuL2ZvbGRlcnNcIjtcbmltcG9ydCB7IGRpc3BsYXlGb2xkZXJzLCBkaXNwbGF5U3dpdGNoRm9sZGVycyB9IGZyb20gXCIuL2Rpc3BsYXlGb2xkZXJzXCI7XG5pbXBvcnQgeyBjcmVhdGVGb2xkZXIsIGZvbGRlciB9IGZyb20gXCIuL2NyZWF0ZU5ld0ZvbGRlclwiO1xuXG5cblxuZXhwb3J0IGxldCBjdXJyZW50Zm9sZGVyID0gXCJcIlxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Rm9ybURhdGEoZm9ybSwgYnV0dG9uVHlwZSwgY3VycmVudEZvbGRlcikge1xuICAgIGxldCBrID0gZm9ybVxuICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShrKVxuICAgIGxldCBvYmplY3QgPSBPYmplY3QuZnJvbUVudHJpZXMoZm9ybURhdGEpXG4gICAgXG4gICAgbGV0IHRpdGxlID0gb2JqZWN0LnRpdGxlXG4gICAgbGV0IGRlc2NyaXB0aW9uID0gb2JqZWN0LmRlc2NyaXB0aW9uXG4gICAgbGV0IGR1ZURhdGUgPSBvYmplY3QuZHVlRGF0ZVxuICAgIGxldCBwcmlvcml0eSA9IG9iamVjdC5wcmlvcml0eVxuICAgIGlmIChidXR0b25UeXBlID09PSBcImVkaXRUYXNrXCIpIHtcbiAgICAgICAgbGV0IGZvbGRlciA9IGN1cnJlbnRGb2xkZXIucGFyZW50Rm9sZGVyO1xuICAgICAgICBjb25zb2xlLmxvZyhmb2xkZXIudG9Eb2ZvbGRlcikgIDtcbiAgICAgICAgY3VycmVudEZvbGRlci5lZGl0VG9Ebyh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KTtcbiAgICAgICAgZGlzcGxheVN3aXRjaEZvbGRlcnMoZm9sZGVyLnRvRG9mb2xkZXIpO1xuICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJhZGRUYXNrXCIpIHtcbiAgICBhc3NpZ25Gb3JtRGF0YSh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5LCBjdXJyZW50Rm9sZGVyKTtcbiAgICB9IGVsc2UgIHtcbiAgICAgICAgbmV3Rm9sZGVyKHRpdGxlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzc2lnbkZvcm1EYXRhKHRpdGxlLCBkZXNjcmlwdGlvbiwgZHVlRGF0ZSwgcHJpb3JpdHksIGN1cnJlbnRGb2xkZXIpIHtcbiAgICBcblxuICAgIGxldCB0b0RvID0gbmV3IG5ld1RvRG8odGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSk7XG4gICAgYWRkVG9NYWluRm9sZGVyKCkuYWRkKHRvRG8pO1xuICAgIGlmIChjdXJyZW50Rm9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgIGN1cnJlbnRGb2xkZXIuYWRkVG9Gb2xkZXIodG9Ebyk7XG4gICAgICAgIGN1cnJlbnRGb2xkZXIuc3dpdGNoTWFpbkRpc3BsYXlGb2xkZXIoKTtcbiAgICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICBkaXNwbGF5Rm9sZGVycyh0b0RvKTsgXG4gICAgfVxufVxuXG5mdW5jdGlvbiBuZXdGb2xkZXIodGl0bGUpIHtcbiAgICBsZXQgbmV3Rm9sZGVyID0gbmV3IGZvbGRlcih0aXRsZSk7XG4gICAgY3VycmVudGZvbGRlciA9IG5ld0ZvbGRlcjtcbiAgICBuZXdGb2xkZXIubmV3Rm9sZGVyRG9tKCk7XG4gICAgbmV3Rm9sZGVyLnN3aXRjaE1haW5EaXNwbGF5Rm9sZGVyKCk7XG5cbn1cblxuIiwiLyogZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZvbGRlcihmb2xkZXIpIHtcbiAgICBjb25zdCBuZXdGb2xkZXIgPSBbIF1cbiAgICBuZXdGb2xkZXJEb20oZm9sZGVyKTtcbiAgICBcbiAgICByZXR1cm4gbmV3Rm9sZGVyXG4gICAgXG59XG5cbmZ1bmN0aW9uIG5ld0ZvbGRlckRvbShmb2xkZXIpIHtcbiAgICBjb25zdCBhcHBlbmRIZXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb2xkZXJzLWNvbnRhaW5lclwiKVxuICAgIGxldCBmb2xkZXJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKVxuICAgIGZvbGRlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWVudS1saW5rLWl0ZW1cIilcbiAgICBmb2xkZXJCdXR0b24udGV4dENvbnRlbnQgPSBmb2xkZXJcbiAgICBhcHBlbmRIZXJlLmFwcGVuZENoaWxkKGZvbGRlckJ1dHRvbilcbn0gKi9cblxuaW1wb3J0IHsgZGlzcGxheVN3aXRjaEZvbGRlcnMgfSBmcm9tIFwiLi9kaXNwbGF5Rm9sZGVyc1wiXG5pbXBvcnQgeyBjdXJyZW50Zm9sZGVyIH0gZnJvbSBcIi4vZ2V0Rm9ybURhdGFcIlxuXG5leHBvcnQgY2xhc3MgZm9sZGVyIHtcbiAgICB0b0RvZm9sZGVyID0gW1xuXG4gICAgXVxuXG4gICAgY29uc3RydWN0b3IoZm9sZGVyKSB7XG4gICAgICAgIHRoaXMuZm9sZGVyID0gZm9sZGVyXG4gICAgfVxuICAgIFxuICAgIHNldEhlYWRlcigpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXRpdGxlXCIpXG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IHRoaXMuZm9sZGVyO1xuICAgIH1cblxuICAgIG5ld0ZvbGRlckRvbShmb2xkZXIpIHtcbiAgICAgICAgdGhpcy5zZXRIZWFkZXIoKTtcbiAgICAgICAgdGhpcy5zd2l0Y2hNYWluRGlzcGxheUZvbGRlcih0aGlzLnRvRG9mb2xkZXIpO1xuICAgICAgICBjb25zdCBhcHBlbmRIZXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb2xkZXJzLWNvbnRhaW5lclwiKVxuICAgICAgICBsZXQgZm9sZGVyQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIilcbiAgICAgICAgZm9sZGVyQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtZW51LWxpbmstaXRlbVwiKVxuICAgICAgICBmb2xkZXJCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLmZvbGRlcjtcbiAgICAgICAgYXBwZW5kSGVyZS5hcHBlbmRDaGlsZChmb2xkZXJCdXR0b24pXG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzXG4gICAgICAgIGZvbGRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGF0LnN3aXRjaE1haW5EaXNwbGF5Rm9sZGVyKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGFkZFRvRm9sZGVyKHRvRG8pIHtcbiAgICAgICAgdGhpcy50b0RvZm9sZGVyLnB1c2godG9EbylcbiAgICAgICAgY29uc29sZS5sb2codGhpcy50b0RvZm9sZGVyKTtcbiAgICAgICAgdG9Eby5hZGRQYXJlbnRGb2xkZXIodGhpcyk7XG4gICAgfVxuXG4gICAgZGVsZXRlRnJvbUZvbGRlcihpdGVtVG9EZWxldGUpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy50b0RvZm9sZGVyLmluZGV4T2YoaXRlbVRvRGVsZXRlKVxuICAgICAgICB0aGlzLnRvRG9mb2xkZXIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG5cbiAgICBzd2l0Y2hNYWluRGlzcGxheUZvbGRlcigpIHtcbiAgICAgICAgY3VycmVudGZvbGRlciA9IHRoaXM7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMudG9Eb2ZvbGRlcik7XG4gICAgICAgIGRpc3BsYXlTd2l0Y2hGb2xkZXJzKHRoaXMudG9Eb2ZvbGRlcik7XG4gICAgICAgIHRoaXMuc2V0SGVhZGVyKCk7XG4gICAgfVxuXG4gICAgc3dpdGNoKCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnRvRG9mb2xkZXIpO1xuICAgIH1cblxuICAgIHVwZGF0ZURpc3BsYXkoKSB7XG5cbiAgICB9XG5cbn1cbiIsIlxuaW1wb3J0IHsgZ2V0Rm9ybURhdGEgfSBmcm9tIFwiLi9nZXRGb3JtRGF0YVwiXG5cbmltcG9ydCB7IGN1cnJlbnRmb2xkZXIgfSBmcm9tIFwiLi9nZXRGb3JtRGF0YVwiXG5cbmNvbnN0IHBvcHVwSCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiRXBvcHVwXCIpXG5jb25zdCBwb3B1cE1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwicG9wdXAtbWFpblwiKVxuZXhwb3J0IGZ1bmN0aW9uIHBvcFVwKGUsIHRvRG8pIHtcbiAgICBsZXQgcG9wVXAgPSBldmVudC50YXJnZXQuaWRcbiAgICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBvcHVwLWhlYWRlclwiKVxuICAgIHBvcHVwSC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcblxuXG4gICAgaWYgKGUgPT09IFwiaW5mb1wiKSB7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IFwiSW5mb1wiXG4gICAgICAgIGNyZWF0ZUluZm9Cb3hDb250ZW50cyh0b0RvKTtcbiAgICAgICAgY3JlYXRlQnV0dG9ucyhcImluZm9cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIGlmKGUgPT09IFwiZWRpdFwiKSB7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IFwiRWRpdFwiXG4gICAgICAgIGNyZWF0ZUJveElucHV0KFtcIlRpdGxlXCIsIFwiRGVzY3JpcHRpb25cIiwgXCJEdWUgRGF0ZVwiLCBcIlByaW9yaXR5XCJdLCBcImVkaXRcIiwgdG9Ebyk7XG4gICAgICAgIGNyZWF0ZUJ1dHRvbnMoXCJlZGl0VGFza1wiLCB0b0RvKVxuICAgIH1cblxuXG4gICAgaWYgKHBvcFVwID09IFwiY3JlYXRlRm9sZGVyXCIpIHtcbiAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gXCJDcmVhdGUgRm9sZGVyXCJcbiAgICAgICAgY3JlYXRlQm94SW5wdXQoW1wiVGl0bGVcIl0pXG4gICAgICAgIHBvcHVwTWFpblswXS5jbGFzc0xpc3QuYWRkKFwiY3JlYXRlRm9sZGVyXCIpO1xuICAgICAgICBjcmVhdGVCdXR0b25zKFwiY3JlYXRlRm9sZGVyXCIpO1xuICAgIH1cbiBcbiAgICBpZiAocG9wVXAgPT0gXCJhZGQtdGFza1wiKSB7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IFwiQWRkIHRhc2tcIlxuICAgICAgICBjcmVhdGVCb3hJbnB1dChbXCJUaXRsZVwiLCBcIkRlc2NyaXB0aW9uXCIsIFwiRHVlIERhdGVcIiwgXCJQcmlvcml0eVwiXSk7XG4gICAgICAgIGNyZWF0ZUJ1dHRvbnMoXCJhZGRUYXNrXCIpO1xuICAgIH1cbiAgICBcbn1cblxuZnVuY3Rpb24gY3JlYXRlQm94SW5wdXQoYXJyLCBlZGl0LCB0YXNrKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybVwiKVxuICAgIGxldCBhID0gdGFzaztcbiAgICBjb25zb2xlLmxvZyhhKTtcbiAgICBhcnIubWFwKGUgPT4ge1xuICAgICAgICBpZiAoZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICAgICAgICAgICAgaWYgKGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gdGFzay50aXRsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBcInRpdGxlXCJcbiAgICAgICAgICAgIGlucHV0Lm5hbWUgPSBuYW1lXG4gICAgICAgICAgICBzZXRJbnB1dExhYmVsKGUsIGlucHV0LCBuYW1lKVxuICAgICAgICB9XG4gICAgICAgIGlmKGUgPT09IFwiRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIilcbiAgICAgICAgICAgIGlmIChhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0ZXh0QXJlYS52YWx1ZSA9IHRhc2suZGVzY3JpcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZXh0QXJlYS5uYW1lID0gXCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICBzZXRJbnB1dExhYmVsKGUsIHRleHRBcmVhKVxuICAgICAgICAgICAgXG5cbiAgICAgICAgfVxuICAgICAgICBpZihlID09PSBcIkR1ZSBEYXRlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgICAgICAgICBpZiAoYSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB0YXNrLmR1ZURhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5uYW1lID0gXCJkdWVEYXRlXCJcbiAgICAgICAgICAgIGlucHV0LnR5cGUgPSBcImRhdGVcIlxuICAgICAgICAgICAgc2V0SW5wdXRMYWJlbChlLCBpbnB1dClcblxuICAgICAgICB9XG4gICAgICAgIGlmKGUgPT09IFwiUHJpb3JpdHlcIikge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKVxuICAgICAgICAgICAgc2VsZWN0Lm5hbWUgPSBcInByaW9yaXR5XCI7XG4gICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVPcHRpb24gKHRleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIilcbiAgICAgICAgICAgICAgICBvcHRpb24udGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgICBzZWxlY3QuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNyZWF0ZU9wdGlvbihcIkxvd1wiKTtcbiAgICAgICAgICAgIGNyZWF0ZU9wdGlvbihcIkhpZ2hcIilcbiAgICAgICAgICAgIGlmIChhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3QudmFsdWUgPSB0YXNrLnByaW9yaXR5ICAgIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXRJbnB1dExhYmVsKGUsIHNlbGVjdClcblxuICAgICAgICB9XG4gICAgfSlcbiAgLyogICBjb25zdCBpbnB1dExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKVxuICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpXG4gICAgaW5wdXRXcmFwcGVyLmFwcGVuZENoaWxkKGlucHV0TGFiZWwpXG4gICAgaW5wdXRXcmFwcGVyLmFwcGVuZENoaWxkKGlucHV0KTsgKi9cblxuICAgIGZ1bmN0aW9uIHNldElucHV0TGFiZWwoZSwgZWxlbWVudFRvQ3JlYXRlLCBuYW1lKSB7XG4gICAgICAgIGNvbnN0IGlucHV0V3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgaW5wdXRXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC13cmFwcGVyXCIpXG4gICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXRXcmFwcGVyKTtcbiAgICAgICAgY29uc3QgaW5wdXRMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKVxuICAgICAgICBpbnB1dExhYmVsLnRleHRDb250ZW50ID0gZVxuICAgICAgICBpbnB1dExhYmVsLmh0bWxGb3IgPSBuYW1lXG4gICAgICAgIGlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChpbnB1dExhYmVsKVxuICAgICAgICBpbnB1dFdyYXBwZXIuYXBwZW5kQ2hpbGQoZWxlbWVudFRvQ3JlYXRlKVxuICAgICAgICBcbiAgICB9XG5cbn1cbmZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbnMoYnV0dG9uVHlwZSwgdGFzaykge1xuXG4gICAgY29uc29sZS5sb2codGFzayk7XG5cbiAgICBcbiAgICBsZXQgc3VibWl0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKVxuICAgIHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU3VibWl0XCJcbiAgICBzdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZChcInN1Ym1pdC1idXR0b25cIilcbiAgICBzdWJtaXRCdXR0b24udHlwZSA9IFwic3VibWl0XCJcblxuXG4gICAgc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiBzdWJtaXQoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcImFkZFRhc2tcIikge1xuICAgICAgICAgICAgZ2V0Rm9ybURhdGEoc3VibWl0QnV0dG9uLmZvcm0sIFwiYWRkVGFza1wiLCBjdXJyZW50Zm9sZGVyKVxuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiZWRpdFRhc2tcIikge1xuICAgICAgICAgICAgZ2V0Rm9ybURhdGEoc3VibWl0QnV0dG9uLmZvcm0sIFwiZWRpdFRhc2tcIiwgdGFzaylcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldEZvcm1EYXRhKHN1Ym1pdEJ1dHRvbi5mb3JtLCBcImNyZWF0ZUZvbGRlclwiKVxuICAgICAgICAgICAgcG9wdXBNYWluWzBdLmNsYXNzTGlzdC5yZW1vdmUoXCJjcmVhdGVGb2xkZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgICAgIGZvcm0uaW5uZXJIVE1MID0gXCIgXCJcbiAgICAgICAgICAgIHBvcHVwSC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcblxuICAgIH0pXG5cblxuICAgIGxldCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiBwcmV2ZW50KGUsKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgbGV0IGluZm9Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmluZm8tY29udGFpbmVyXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhpbmZvQ29udGFpbmVyKTtcbiAgICAgICAgbGV0IGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZvcm1cIilcbiAgICAgICAgICAgIGlmIChpbmZvQ29udGFpbmVyICE9PSB1bmRlZmluZWQgJiYgZm9ybS5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbmZvQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvLWNvbnRhaW5lclwiKVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICBpbmZvQ29udGFpbmVyLmlubmVySFRNTCA9IFwiIFwiXG4gICAgICAgICAgICAgICAgICAgIGluZm9Db250YWluZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIGZvcm0uaW5uZXJIVE1MID0gXCIgXCJcbiAgICAgICAgcG9wdXBILnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIlxuICAgIH0gKVxuICAgIGNhbmNlbEJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ2FuY2VsXCJcbiAgICBsZXQgYnV0dG9uc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChzdWJtaXRCdXR0b24pO1xuICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FuY2VsQnV0dG9uKTtcbiAgICBidXR0b25zQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJidXR0b25zLWNvbnRhaW5lclwiKVxuICAgIGlmIChidXR0b25UeXBlID09PSBcImluZm9cIikge1xuICAgICAgICBjb25zdCBpbmZvQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbmZvLWNvbnRhaW5lclwiKVxuICAgICAgICBpbmZvQ29udGFpbmVyLmFwcGVuZENoaWxkKGJ1dHRvbnNDb250YWluZXIpO1xuICAgICAgICBzdWJtaXRCdXR0b24ucmVtb3ZlKCk7XG4gICAgICAgIHJldHVyblxuICAgIH0gXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybVwiKVxuICAgIGZvcm0uYXBwZW5kQ2hpbGQoYnV0dG9uc0NvbnRhaW5lcik7XG5cbiAgICBcbn1cblxuXG5mdW5jdGlvbiBjcmVhdGVJbmZvQm94Q29udGVudHModG9Ebykge1xuICAgIGxldCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpO1xuICAgIGZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbmZvLWNvbnRhaW5lclwiKTtcbiAgICBwb3B1cE1haW5bMF0uYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcblxuICAgIFxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvQ29udGFpbmVyKFwiVGl0bGVcIiwgdG9Eby50aXRsZSkpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvQ29udGFpbmVyKFwiRGVzY3JpcHRpb25cIiwgdG9Eby5kZXNjcmlwdGlvbikpO1xuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvQ29udGFpbmVyKFwiRHVlIERhdGVcIiwgdG9Eby5kdWVEYXRlKSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGluZm9Db250YWluZXIoXCJQcmlvcml0eVwiLCB0b0RvLnByaW9yaXR5KSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGluZm9Db250YWluZXIoXCJGb2xkZXJcIiwgdG9Eby5wYXJlbnRGb2xkZXIuZm9sZGVyKSk7XG5cblxufVxuXG5cblxuZnVuY3Rpb24gaW5mb0NvbnRhaW5lcihsZWZ0LCByaWdodCkge1xuICAgIGxldCBpbmZvQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBpbmZvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbmZvLWl0ZW1cIik7XG4gICAgbGV0IGluZm9MZWZ0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIilcbiAgICBsZXQgaW5mb1JpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cblxuICAgIGluZm9MZWZ0LnRleHRDb250ZW50ID0gbGVmdDtcbiAgICBpbmZvUmlnaHQudGV4dENvbnRlbnQgPSByaWdodDtcbiAgICBpZiAobGVmdCA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgIGluZm9SaWdodC5jbGFzc0xpc3QuYWRkKFwiZGVzY1wiKVxuICAgICAgICBsZXQgZGVzY0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgZGVzY0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZGVzYy1jb250YWluZXJcIik7XG4gICAgICAgIGRlc2NDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mb1JpZ2h0KTtcbiAgICAgICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvTGVmdCk7XG4gICAgICAgIGluZm9Db250YWluZXIuYXBwZW5kQ2hpbGQoZGVzY0NvbnRhaW5lcik7XG4gICAgICAgIHJldHVybiBpbmZvQ29udGFpbmVyO1xuICAgICAgICBcbiAgICB9IGVsc2UgXG4gICAgXG4gICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvTGVmdCk7XG4gICAgaW5mb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvUmlnaHQpO1xuICAgIHJldHVybiBpbmZvQ29udGFpbmVyO1xuICAgIFxuXG59XG4iLCJpbXBvcnQgeyBmb2xkZXIgfSBmcm9tIFwiLi9jcmVhdGVOZXdGb2xkZXJcIlxuXG5pbXBvcnQgeyBwb3BVcCB9IGZyb20gXCIuL3BvcHVwXCJcblxuZXhwb3J0IGNsYXNzIG5ld1RvRG8ge1xuXG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBwcmlvcml0eSkge1xuICAgICAgICB0aGlzLnRpdGxlID0gdGl0bGVcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uXG4gICAgICAgIHRoaXMuZHVlRGF0ZSA9IGR1ZURhdGVcbiAgICAgICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5XG4gICAgfVxuICAgIHN0b3JlSWNvbnMoc3Bhbikge1xuICAgICAgICBjb25zdCB0aGF0ID0gdGhpc1xuICAgICAgICBjb25zdCBhcnJheU9mSWNvbnMgPSBBcnJheS5mcm9tKHNwYW4pO1xuICAgICAgICBhcnJheU9mSWNvbnMuZm9yRWFjaChpY29uID0+IGljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKXtcbiAgICAgICAgICAgIGxldCBpY29uID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgIGlmIChpY29uLmNsYXNzTGlzdC5jb250YWlucyhcInRyYXNoXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5kZWxldGUoKTtcbiAgICAgICAgICAgICAgICB0aGF0LmRlbGV0ZTIoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWNvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJlZGl0XCIpKSB7XG4gICAgICAgICAgICAgICAgcG9wVXAoXCJlZGl0XCIsIHRoYXQpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb3BVcChcImluZm9cIiwgdGhhdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgIH1cbiAgICBzdG9yZURvbUVsZW1lbnQodGFza0NvbnRhaW5lcikge1xuICAgICAgICBjb25zb2xlLmxvZyh0YXNrQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy50YXNrQ29udGFpbmVyID0gdGFza0NvbnRhaW5lcjtcblxuICAgIH1cbiAgICBkZWxldGUoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9sZGVyKTsgXG4gICAgICAgIHRoaXMudGFza0NvbnRhaW5lci5yZW1vdmUoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5mb2xkZXIpOyAgICAgIFxuXG4gICAgfVxuXG4gICAgZGVsZXRlMigpIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXJlbnRGb2xkZXIpO1xuICAgICAgICB0aGlzLnBhcmVudEZvbGRlci5kZWxldGVGcm9tRm9sZGVyKHRoaXMpO1xuICAgIH1cblxuICAgIGFkZFBhcmVudEZvbGRlcihlKSB7XG4gICAgICAgIHRoaXMucGFyZW50Rm9sZGVyID0gZTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wYXJlbnRGb2xkZXIpOyAgIFxuICAgIH1cbiAgICBcbiAgICBlZGl0VG9Ebyh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgICAgIHRoaXMudGl0bGUgPSB0aXRsZVxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25cbiAgICAgICAgdGhpcy5kdWVEYXRlID0gZHVlRGF0ZVxuICAgICAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHlcbiAgICB9XG4gICAgXG5cbn0iLCJpbXBvcnQgeyBuZXdUb0RvIH0gZnJvbSBcIi4vYWRkVG9Eb1wiO1xuaW1wb3J0IHsgYWRkVG9NYWluRm9sZGVyIH0gZnJvbSBcIi4vZm9sZGVyc1wiO1xuaW1wb3J0IHsgY3JlYXRlRm9sZGVyIH0gZnJvbSBcIi4vY3JlYXRlTmV3Rm9sZGVyXCI7XG5pbXBvcnQgeyBwb3BVcCB9IGZyb20gXCIuL3BvcHVwXCI7XG5cbmNvbnN0IGFkZFRhc2tCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZC10YXNrXCIpXG5hZGRUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwb3BVcCk7XG5cbmNvbnN0IGNyZWF0ZUZvbGRlckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY3JlYXRlRm9sZGVyXCIpO1xuY3JlYXRlRm9sZGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwb3BVcCk7XG5cblxuXG4vKiBjaGVja0ZvckVycm9ycyhvayk7ICovIl0sIm5hbWVzIjpbIm1haW5Gb2xkZXIiLCJkaXNwbGF5U3dpdGNoRm9sZGVycyIsImZvbGRlciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlIiwicmVtb3ZlIiwiY3JlYXRlTmVlZGVkRWxlbWVudHMiLCJ0YXNrc0NvbnRhaW5lciIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXNrQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInRhc2tOYW1lIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJ0aXRsZSIsImRpdiIsImRhdGUiLCJkdWVEYXRlIiwic3RvcmVEb21FbGVtZW50Iiwic3BhbiIsImFycmF5T2ZTcGFucyIsImkiLCJpbWciLCJwdXNoIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJzcmMiLCJjcmVhdGVJY29ucyIsInN0b3JlSWNvbnMiLCJjdXJyZW50Zm9sZGVyIiwiZ2V0Rm9ybURhdGEiLCJmb3JtIiwiYnV0dG9uVHlwZSIsImN1cnJlbnRGb2xkZXIiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwib2JqZWN0IiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJkZXNjcmlwdGlvbiIsInByaW9yaXR5IiwicGFyZW50Rm9sZGVyIiwiY29uc29sZSIsImxvZyIsInRvRG9mb2xkZXIiLCJlZGl0VG9EbyIsInRvRG8iLCJuZXdUb0RvIiwib2siLCJhZGRUb0ZvbGRlciIsInN3aXRjaE1haW5EaXNwbGF5Rm9sZGVyIiwiYXNzaWduRm9ybURhdGEiLCJuZXdGb2xkZXIiLCJuZXdGb2xkZXJEb20iLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJzZXRIZWFkZXIiLCJ0ZXh0Q29udGVudCIsImFwcGVuZEhlcmUiLCJmb2xkZXJCdXR0b24iLCJ0aGF0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZFBhcmVudEZvbGRlciIsImRlbGV0ZUZyb21Gb2xkZXIiLCJpdGVtVG9EZWxldGUiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJzd2l0Y2giLCJ1cGRhdGVEaXNwbGF5IiwicG9wdXBIIiwiZ2V0RWxlbWVudEJ5SWQiLCJwb3B1cE1haW4iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwicG9wVXAiLCJldmVudCIsInRhcmdldCIsImlkIiwiaGVhZGVyIiwic3R5bGUiLCJkaXNwbGF5IiwiY29udGFpbmVyIiwiaW5mb0NvbnRhaW5lciIsImNyZWF0ZUluZm9Cb3hDb250ZW50cyIsImNyZWF0ZUJ1dHRvbnMiLCJjcmVhdGVCb3hJbnB1dCIsImFyciIsImVkaXQiLCJ0YXNrIiwiYSIsInNldElucHV0TGFiZWwiLCJlbGVtZW50VG9DcmVhdGUiLCJuYW1lIiwiaW5wdXRXcmFwcGVyIiwiaW5wdXRMYWJlbCIsImh0bWxGb3IiLCJtYXAiLCJpbnB1dCIsInVuZGVmaW5lZCIsInZhbHVlIiwidGV4dEFyZWEiLCJ0eXBlIiwic2VsZWN0IiwiY3JlYXRlT3B0aW9uIiwib3B0aW9uIiwic3VibWl0QnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJjYW5jZWxCdXR0b24iLCJidXR0b25zQ29udGFpbmVyIiwibGVmdCIsInJpZ2h0IiwiaW5mb0xlZnQiLCJpbmZvUmlnaHQiLCJkZXNjQ29udGFpbmVyIiwiQXJyYXkiLCJmcm9tIiwiaWNvbiIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsImRlbGV0ZSIsImRlbGV0ZTIiXSwic291cmNlUm9vdCI6IiJ9