(()=>{"use strict";class e{constructor(e,t,n,d){this.title=e,this.description=t,this.dueDate=n,this.folder=d}}const t=[];function n(n,d){let a=new FormData(n),i=Object.fromEntries(a),c=i.title,l=i.description,o=i.dueDate,s=i.priority;"addTask"===d?function(n,d,a,i){let c=new e(n,d,a,i);var l;l=c,t.push(l),console.log(t),function(e){!function(e){let t=document.querySelector(".tasks-container"),n=document.createElement("div");n.classList.add("task-container");let d=document.createElement("p");n.appendChild(d),d.classList.add("task-name"),d.innerHTML=e.title;let a=document.createElement("div"),i=document.createElement("p");i.innerHTML=e.dueDate,i.classList.add("task-date"),n.appendChild(i),a.classList.add("task-logos"),function(){let e=[];for(let t=1;t<=3;t++){let t=document.createElement("span"),n=document.createElement("img");t.appendChild(n),e.push(t)}return e[0].firstElementChild.src="/img/edit.png",e[0].classList.add("edit"),e[2].firstElementChild.src="/img/trash.png",e[2].classList.add("trash"),e[1].firstElementChild.src="/img/info.svg  ",e[1].classList.add("info"),e}().forEach((e=>a.appendChild(e))),n.appendChild(a),t.appendChild(n)}(e)}(c)}(c,l,o,s):function(e){(function(e){const t=document.querySelector(".folders-container");let n=document.createElement("a");n.classList.add("menu-link-item"),n.textContent=e,t.appendChild(n)})(e)}(c)}const d=document.getElementById("Epopup"),a=document.getElementsByClassName("popup-main");function i(e){let t=event.target.id;const n=document.getElementById("popup-header");d.style.display="flex","createFolder"==t&&(n.textContent="Create Folder",c(["Title"]),a[0].classList.add("createFolder"),l("createFolder")),"add-task"==t&&(n.textContent="Add task",c(["Title","Description","Due Date","Priority"]),l("addTask"))}function c(e){const t=document.getElementById("form");function n(e,n,d){const a=document.createElement("div");a.classList.add("input-wrapper"),t.appendChild(a);const i=document.createElement("label");i.textContent=e,i.htmlFor=d,a.appendChild(i),a.appendChild(n)}e.map((e=>{if("Title"===e){const t=document.createElement("input"),d="title";t.name=d,n(e,t,d)}if("Description"===e){const a=document.createElement("textarea");a.name="description",n(e,a)}if("Due Date"===e){const i=document.createElement("input");i.name="dueDate",i.type="date",n(e,i)}if("Priority"===e){const c=document.createElement("select");function l(e){let t=document.createElement("option");t.textContent=e,c.appendChild(t)}c.name="priority",l("Low"),l("High"),n(e,c)}}))}function l(e){let t=document.createElement("button");t.textContent="Submit",t.classList.add("submit-button"),t.type="submit",t.addEventListener("click",(function(a){a.preventDefault(),n(t.form,"addTask"===e?"addTask":"createFolder"),c.innerHTML=" ",d.style.display="none"}));let a=document.createElement("button");a.addEventListener("click",(function(e){e.preventDefault(),c.innerHTML=" ",d.style.display="none"})),a.textContent="Cancel";let i=document.createElement("div");i.appendChild(t),i.appendChild(a),i.classList.add("buttons-container");const c=document.getElementById("form");c.appendChild(i)}document.getElementById("add-task").addEventListener("click",i),document.getElementById("createFolder").addEventListener("click",i)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWEsT0FDYkEsRUFBYSxRQUdiWCxFQUFjNUMsRUFBR3NELEVBRXJCLElBbUJSLENBQ0EsU0FBU1osRUFBY3RELEdBR25CLElBQUlxRSxFQUFldkQsU0FBU0csY0FBYyxVQUMxQ29ELEVBQWEvQixZQUFjLFNBQzNCK0IsRUFBYW5ELFVBQVVDLElBQUksaUJBQzNCa0QsRUFBYUosS0FBTyxTQUdwQkksRUFBYUMsaUJBQWlCLFNBQVMsU0FBZ0IxRCxHQUNuREEsRUFBRTJELGlCQUVGekUsRUFBWXVFLEVBQWF0RSxLQUROLFlBQWZDLEVBQzJCLFVBR0EsZ0JBRS9CRCxFQUFLdUIsVUFBWSxJQUNqQm1CLEVBQU9VLE1BQU1DLFFBQVUsTUFFM0IsSUFJQSxJQUFJb0IsRUFBZTFELFNBQVNHLGNBQWMsVUFDMUN1RCxFQUFhRixpQkFBaUIsU0FBUyxTQUFpQjFELEdBQ3BEQSxFQUFFMkQsaUJBQ0Z4RSxFQUFLdUIsVUFBWSxJQUNqQm1CLEVBQU9VLE1BQU1DLFFBQVUsTUFDM0IsSUFDQW9CLEVBQWFsQyxZQUFjLFNBQzNCLElBQUltQyxFQUFtQjNELFNBQVNHLGNBQWMsT0FDOUN3RCxFQUFpQnBELFlBQVlnRCxHQUM3QkksRUFBaUJwRCxZQUFZbUQsR0FDN0JDLEVBQWlCdkQsVUFBVUMsSUFBSSxxQkFDL0IsTUFBTXBCLEVBQU9lLFNBQVM0QixlQUFlLFFBQ3JDM0MsRUFBS3NCLFlBQVlvRCxFQUVyQixDQ3BIc0IzRCxTQUFTNEIsZUFBZSxZQUNoQzRCLGlCQUFpQixRQUFTekIsR0FFYi9CLFNBQVM0QixlQUFlLGdCQUNoQzRCLGlCQUFpQixRQUFTekIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvcC10b2RvbGlzdC8uL3NyYy9hZGRUb0RvLmpzIiwid2VicGFjazovL3RvcC10b2RvbGlzdC8uL3NyYy9mb2xkZXJzLmpzIiwid2VicGFjazovL3RvcC10b2RvbGlzdC8uL3NyYy9nZXRGb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly90b3AtdG9kb2xpc3QvLi9zcmMvZGlzcGxheUZvbGRlcnMuanMiLCJ3ZWJwYWNrOi8vdG9wLXRvZG9saXN0Ly4vc3JjL2NyZWF0ZU5ld0ZvbGRlci5qcyIsIndlYnBhY2s6Ly90b3AtdG9kb2xpc3QvLi9zcmMvcG9wdXAuanMiLCJ3ZWJwYWNrOi8vdG9wLXRvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIG5ld1RvRG8ge1xuXG4gICAgY29uc3RydWN0b3IodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBmb2xkZXIpIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvblxuICAgICAgICB0aGlzLmR1ZURhdGUgPSBkdWVEYXRlXG4gICAgICAgIHRoaXMuZm9sZGVyID0gZm9sZGVyXG4gICAgfVxuXG59IiwiaW1wb3J0IHsgZGlzcGxheUZvbGRlcnMgfSBmcm9tIFwiLi9kaXNwbGF5Rm9sZGVyc1wiO1xuZXhwb3J0IGNvbnN0IG1haW5Gb2xkZXIgPSBbIF1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZFRvTWFpbkZvbGRlcihvaykge1xuICAgIFxuXG4gICAgZnVuY3Rpb24gYWRkKG9rKSB7XG4gICAgICAgICAgICBtYWluRm9sZGVyLnB1c2gob2spO1xuICAgICAgICAgICAgY2hlY2tNYWluRm9sZGVyKCk7XG4gICAgfVxuXG5cblxuICAgIGZ1bmN0aW9uIGNoZWNrTWFpbkZvbGRlcigpIHtcbiAgICAgICAgY29uc29sZS5sb2cobWFpbkZvbGRlcik7XG4gICAgfVxuXG5cbiAgICByZXR1cm4geyBhZGQsIG1haW5Gb2xkZXIsfVxufSIsImltcG9ydCB7IG5ld1RvRG8gfSBmcm9tIFwiLi9hZGRUb0RvXCI7XG5pbXBvcnQgeyBhZGRUb01haW5Gb2xkZXIgfSBmcm9tIFwiLi9mb2xkZXJzXCI7XG5pbXBvcnQgeyBkaXNwbGF5Rm9sZGVycyB9IGZyb20gXCIuL2Rpc3BsYXlGb2xkZXJzXCI7XG5pbXBvcnQgeyBjcmVhdGVGb2xkZXIgfSBmcm9tIFwiLi9jcmVhdGVOZXdGb2xkZXJcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZvcm1EYXRhKGZvcm0sIGJ1dHRvblR5cGUpIHtcbiAgICBsZXQgayA9IGZvcm1cbiAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoaylcbiAgICBsZXQgb2JqZWN0ID0gT2JqZWN0LmZyb21FbnRyaWVzKGZvcm1EYXRhKVxuICAgIFxuICAgIGxldCB0aXRsZSA9IG9iamVjdC50aXRsZVxuICAgIGxldCBkZXNjcmlwdGlvbiA9IG9iamVjdC5kZXNjcmlwdGlvblxuICAgIGxldCBkdWVEYXRlID0gb2JqZWN0LmR1ZURhdGVcbiAgICBsZXQgcHJpb3JpdHkgPSBvYmplY3QucHJpb3JpdHlcbiAgICBpZiAoYnV0dG9uVHlwZSA9PT0gXCJhZGRUYXNrXCIpIHtcbiAgICBhc3NpZ25Gb3JtRGF0YSh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG5ld0ZvbGRlcih0aXRsZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBhc3NpZ25Gb3JtRGF0YSh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gICAgXG4gICAgbGV0IHRvRG8gPSBuZXcgbmV3VG9Ebyh0aXRsZSwgZGVzY3JpcHRpb24sIGR1ZURhdGUsIHByaW9yaXR5KTtcbiAgICBhZGRUb01haW5Gb2xkZXIoKS5hZGQodG9Ebyk7XG4gICAgZGlzcGxheUZvbGRlcnModG9Ebyk7IFxufVxuXG5mdW5jdGlvbiBuZXdGb2xkZXIodGl0bGUpIHtcbiAgICBsZXQgbmV3Rm9sZGVyID0gY3JlYXRlRm9sZGVyKHRpdGxlKTtcbiAgICBcbn1cbiIsIlxuaW1wb3J0IHsgbWFpbkZvbGRlciB9IGZyb20gXCIuL2ZvbGRlcnNcIjtcblxuXG5leHBvcnQgZnVuY3Rpb24gZGlzcGxheUZvbGRlcnMob2spIHtcblxuICAgICAgICBjcmVhdGVOZWVkZWRFbGVtZW50cyhvaylcbn1cblxuXG4vKiBmdW5jdGlvbiBjcmVhdGVET01UYXNrKCkge1xuICAgIGNyZWF0ZU5lZWRlZEVsZW1lbnRzKClcbn0gKi9cblxuZnVuY3Rpb24gY3JlYXRlTmVlZGVkRWxlbWVudHMoZSkge1xuICAgIGxldCB0YXNrc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFza3MtY29udGFpbmVyXCIpXG4gICAgbGV0IHRhc2tDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgdGFza0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwidGFzay1jb250YWluZXJcIilcbiAgICBsZXQgdGFza05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza05hbWUpO1xuICAgIHRhc2tOYW1lLmNsYXNzTGlzdC5hZGQoXCJ0YXNrLW5hbWVcIilcbiAgICB0YXNrTmFtZS5pbm5lckhUTUwgPSBlLnRpdGxlO1xuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgbGV0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKVxuICAgIGRhdGUuaW5uZXJIVE1MID0gZS5kdWVEYXRlXG4gICAgZGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFzay1kYXRlXCIpO1xuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGF0ZSk7XG5cbiAgICBkaXYuY2xhc3NMaXN0LmFkZChcInRhc2stbG9nb3NcIilcblxuICAgIGxldCBzcGFuID0gY3JlYXRlSWNvbnMoKTtcbiAgICBzcGFuLmZvckVhY2goZSA9PiBkaXYuYXBwZW5kQ2hpbGQoZSkpO1xuICAgIHRhc2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZGl2KTsgXG4gICAgdGFza3NDb250YWluZXIuYXBwZW5kQ2hpbGQodGFza0NvbnRhaW5lcik7XG5cblxuICAgIFxuXG5cbn1cblxuZnVuY3Rpb24gY3JlYXRlSWNvbnMoKSB7XG4gICAgbGV0IGFycmF5T2ZTcGFucyA9IFsgXVxuICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDM7IGkgKyspIHtcbiAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgbGV0IGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgYXJyYXlPZlNwYW5zLnB1c2goc3Bhbik7XG4gICAgfVxuXG5cbiAgICBhcnJheU9mU3BhbnNbMF0uZmlyc3RFbGVtZW50Q2hpbGQuc3JjID0gXCIvaW1nL2VkaXQucG5nXCJcbiAgICBhcnJheU9mU3BhbnNbMF0uY2xhc3NMaXN0LmFkZChcImVkaXRcIilcbiAgICBhcnJheU9mU3BhbnNbMl0uZmlyc3RFbGVtZW50Q2hpbGQuc3JjID0gXCIvaW1nL3RyYXNoLnBuZ1wiXG4gICAgYXJyYXlPZlNwYW5zWzJdLmNsYXNzTGlzdC5hZGQoXCJ0cmFzaFwiKVxuICAgIGFycmF5T2ZTcGFuc1sxXS5maXJzdEVsZW1lbnRDaGlsZC5zcmMgPSBcIi9pbWcvaW5mby5zdmcgIFwiXG4gICAgYXJyYXlPZlNwYW5zWzFdLmNsYXNzTGlzdC5hZGQoXCJpbmZvXCIpXG4gICAgcmV0dXJuIGFycmF5T2ZTcGFuc1xufSIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGb2xkZXIoZm9sZGVyKSB7XG4gICAgY29uc3QgbmV3Rm9sZGVyID0gWyBdXG4gICAgbmV3Rm9sZGVyRG9tKGZvbGRlcilcbiAgICByZXR1cm4gbmV3Rm9sZGVyXG4gICAgXG59XG5cbmZ1bmN0aW9uIG5ld0ZvbGRlckRvbShmb2xkZXIpIHtcbiAgICBjb25zdCBhcHBlbmRIZXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb2xkZXJzLWNvbnRhaW5lclwiKVxuICAgIGxldCBmb2xkZXJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKVxuICAgIGZvbGRlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWVudS1saW5rLWl0ZW1cIilcbiAgICBmb2xkZXJCdXR0b24udGV4dENvbnRlbnQgPSBmb2xkZXJcbiAgICBhcHBlbmRIZXJlLmFwcGVuZENoaWxkKGZvbGRlckJ1dHRvbilcbn0iLCJcbmltcG9ydCB7IGdldEZvcm1EYXRhIH0gZnJvbSBcIi4vZ2V0Rm9ybURhdGFcIlxuXG5jb25zdCBwb3B1cEggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIkVwb3B1cFwiKVxuY29uc3QgcG9wdXBNYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInBvcHVwLW1haW5cIilcbmV4cG9ydCBmdW5jdGlvbiBwb3BVcCh0eXBlT2ZQb3B1cCkge1xuICAgIGxldCBwb3BVcCA9IGV2ZW50LnRhcmdldC5pZFxuICAgIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicG9wdXAtaGVhZGVyXCIpXG4gICAgcG9wdXBILnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIlxuXG4gICAgaWYgKHBvcFVwID09IFwiY3JlYXRlRm9sZGVyXCIpIHtcbiAgICAgICAgaGVhZGVyLnRleHRDb250ZW50ID0gXCJDcmVhdGUgRm9sZGVyXCJcbiAgICAgICAgY3JlYXRlQm94SW5wdXQoW1wiVGl0bGVcIl0pXG4gICAgICAgIHBvcHVwTWFpblswXS5jbGFzc0xpc3QuYWRkKFwiY3JlYXRlRm9sZGVyXCIpO1xuICAgICAgICBjcmVhdGVCdXR0b25zKFwiY3JlYXRlRm9sZGVyXCIpO1xuICAgIH1cbiBcbiAgICBpZiAocG9wVXAgPT0gXCJhZGQtdGFza1wiKSB7XG4gICAgICAgIGhlYWRlci50ZXh0Q29udGVudCA9IFwiQWRkIHRhc2tcIlxuICAgICAgICBjcmVhdGVCb3hJbnB1dChbXCJUaXRsZVwiLCBcIkRlc2NyaXB0aW9uXCIsIFwiRHVlIERhdGVcIiwgXCJQcmlvcml0eVwiXSk7XG4gICAgICAgIGNyZWF0ZUJ1dHRvbnMoXCJhZGRUYXNrXCIpO1xuICAgIH1cbiAgICBcbn1cblxuZnVuY3Rpb24gY3JlYXRlQm94SW5wdXQoYXJyKSB7XG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZm9ybVwiKVxuXG4gICAgYXJyLm1hcChlID0+IHtcbiAgICAgICAgaWYgKGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBcInRpdGxlXCJcbiAgICAgICAgICAgIGlucHV0Lm5hbWUgPSBuYW1lXG4gICAgICAgICAgICBzZXRJbnB1dExhYmVsKGUsIGlucHV0LCBuYW1lKVxuICAgICAgICB9XG4gICAgICAgIGlmKGUgPT09IFwiRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgdGV4dEFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIilcbiAgICAgICAgICAgIHRleHRBcmVhLm5hbWUgPSBcImRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgIHNldElucHV0TGFiZWwoZSwgdGV4dEFyZWEpXG4gICAgICAgICAgICBcblxuICAgICAgICB9XG4gICAgICAgIGlmKGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICAgICAgICAgIGlucHV0Lm5hbWUgPSBcImR1ZURhdGVcIlxuICAgICAgICAgICAgaW5wdXQudHlwZSA9IFwiZGF0ZVwiXG4gICAgICAgICAgICBzZXRJbnB1dExhYmVsKGUsIGlucHV0KVxuXG4gICAgICAgIH1cbiAgICAgICAgaWYoZSA9PT0gXCJQcmlvcml0eVwiKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpXG4gICAgICAgICAgICBzZWxlY3QubmFtZSA9IFwicHJpb3JpdHlcIjtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKVxuICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IHRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIHNlbGVjdC5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3JlYXRlT3B0aW9uKFwiTG93XCIpO1xuICAgICAgICAgICAgY3JlYXRlT3B0aW9uKFwiSGlnaFwiKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldElucHV0TGFiZWwoZSwgc2VsZWN0KVxuXG4gICAgICAgIH1cbiAgICB9KVxuICAvKiAgIGNvbnN0IGlucHV0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgICBpbnB1dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXRMYWJlbClcbiAgICBpbnB1dFdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5wdXQpOyAqL1xuXG4gICAgZnVuY3Rpb24gc2V0SW5wdXRMYWJlbChlLCBlbGVtZW50VG9DcmVhdGUsIG5hbWUpIHtcbiAgICAgICAgY29uc3QgaW5wdXRXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgICAgICBpbnB1dFdyYXBwZXIuY2xhc3NMaXN0LmFkZChcImlucHV0LXdyYXBwZXJcIilcbiAgICAgICAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dFdyYXBwZXIpO1xuICAgICAgICBjb25zdCBpbnB1dExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpXG4gICAgICAgIGlucHV0TGFiZWwudGV4dENvbnRlbnQgPSBlXG4gICAgICAgIGlucHV0TGFiZWwuaHRtbEZvciA9IG5hbWVcbiAgICAgICAgaW5wdXRXcmFwcGVyLmFwcGVuZENoaWxkKGlucHV0TGFiZWwpXG4gICAgICAgIGlucHV0V3JhcHBlci5hcHBlbmRDaGlsZChlbGVtZW50VG9DcmVhdGUpXG4gICAgICAgIFxuICAgIH1cblxufVxuZnVuY3Rpb24gY3JlYXRlQnV0dG9ucyhidXR0b25UeXBlKSB7XG5cblxuICAgIGxldCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgc3VibWl0QnV0dG9uLnRleHRDb250ZW50ID0gXCJTdWJtaXRcIlxuICAgIHN1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic3VibWl0LWJ1dHRvblwiKVxuICAgIHN1Ym1pdEJ1dHRvbi50eXBlID0gXCJzdWJtaXRcIlxuXG5cbiAgICBzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIHN1Ym1pdChlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IFwiYWRkVGFza1wiKSB7XG4gICAgICAgIGdldEZvcm1EYXRhKHN1Ym1pdEJ1dHRvbi5mb3JtLCBcImFkZFRhc2tcIilcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgZ2V0Rm9ybURhdGEoc3VibWl0QnV0dG9uLmZvcm0sIFwiY3JlYXRlRm9sZGVyXCIpXG4gICAgICAgIH1cbiAgICAgICAgZm9ybS5pbm5lckhUTUwgPSBcIiBcIlxuICAgICAgICBwb3B1cEguc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG5cbiAgICB9KVxuXG5cblxuICAgIGxldCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpXG4gICAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiBwcmV2ZW50KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBmb3JtLmlubmVySFRNTCA9IFwiIFwiXG4gICAgICAgIHBvcHVwSC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCJcbiAgICB9IClcbiAgICBjYW5jZWxCdXR0b24udGV4dENvbnRlbnQgPSBcIkNhbmNlbFwiXG4gICAgbGV0IGJ1dHRvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGJ1dHRvbnNDb250YWluZXIuYXBwZW5kQ2hpbGQoc3VibWl0QnV0dG9uKTtcbiAgICBidXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGNhbmNlbEJ1dHRvbik7XG4gICAgYnV0dG9uc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYnV0dG9ucy1jb250YWluZXJcIilcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpXG4gICAgZm9ybS5hcHBlbmRDaGlsZChidXR0b25zQ29udGFpbmVyKTtcbiAgICBcbn1cblxuIiwiaW1wb3J0IHsgbmV3VG9EbyB9IGZyb20gXCIuL2FkZFRvRG9cIjtcbmltcG9ydCB7IGFkZFRvTWFpbkZvbGRlciB9IGZyb20gXCIuL2ZvbGRlcnNcIjtcbmltcG9ydCB7IGNyZWF0ZUZvbGRlciB9IGZyb20gXCIuL2NyZWF0ZU5ld0ZvbGRlclwiO1xuaW1wb3J0IHsgcG9wVXAgfSBmcm9tIFwiLi9wb3B1cFwiO1xuXG5jb25zdCBhZGRUYXNrQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGQtdGFza1wiKVxuYWRkVGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcG9wVXApO1xuXG5jb25zdCBjcmVhdGVGb2xkZXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNyZWF0ZUZvbGRlclwiKTtcbmNyZWF0ZUZvbGRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcG9wVXApO1xuXG5cblxuLyogY2hlY2tGb3JFcnJvcnMob2spOyAqLyJdLCJuYW1lcyI6WyJuZXdUb0RvIiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZHVlRGF0ZSIsImZvbGRlciIsInRoaXMiLCJtYWluRm9sZGVyIiwiZ2V0Rm9ybURhdGEiLCJmb3JtIiwiYnV0dG9uVHlwZSIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJvYmplY3QiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsInByaW9yaXR5IiwidG9EbyIsIm9rIiwicHVzaCIsImNvbnNvbGUiLCJsb2ciLCJlIiwidGFza3NDb250YWluZXIiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXNrQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInRhc2tOYW1lIiwiYXBwZW5kQ2hpbGQiLCJpbm5lckhUTUwiLCJkaXYiLCJkYXRlIiwiYXJyYXlPZlNwYW5zIiwiaSIsInNwYW4iLCJpbWciLCJmaXJzdEVsZW1lbnRDaGlsZCIsInNyYyIsImNyZWF0ZUljb25zIiwiZm9yRWFjaCIsImNyZWF0ZU5lZWRlZEVsZW1lbnRzIiwiZGlzcGxheUZvbGRlcnMiLCJhc3NpZ25Gb3JtRGF0YSIsImFwcGVuZEhlcmUiLCJmb2xkZXJCdXR0b24iLCJ0ZXh0Q29udGVudCIsIm5ld0ZvbGRlckRvbSIsIm5ld0ZvbGRlciIsInBvcHVwSCIsImdldEVsZW1lbnRCeUlkIiwicG9wdXBNYWluIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInBvcFVwIiwidHlwZU9mUG9wdXAiLCJldmVudCIsInRhcmdldCIsImlkIiwiaGVhZGVyIiwic3R5bGUiLCJkaXNwbGF5IiwiY3JlYXRlQm94SW5wdXQiLCJjcmVhdGVCdXR0b25zIiwiYXJyIiwic2V0SW5wdXRMYWJlbCIsImVsZW1lbnRUb0NyZWF0ZSIsIm5hbWUiLCJpbnB1dFdyYXBwZXIiLCJpbnB1dExhYmVsIiwiaHRtbEZvciIsIm1hcCIsImlucHV0IiwidGV4dEFyZWEiLCJ0eXBlIiwic2VsZWN0IiwiY3JlYXRlT3B0aW9uIiwib3B0aW9uIiwic3VibWl0QnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsInByZXZlbnREZWZhdWx0IiwiY2FuY2VsQnV0dG9uIiwiYnV0dG9uc0NvbnRhaW5lciJdLCJzb3VyY2VSb290IjoiIn0=